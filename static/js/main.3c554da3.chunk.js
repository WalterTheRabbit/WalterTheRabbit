(this["webpackJsonpWalter-TheRabbit"]=this["webpackJsonpWalter-TheRabbit"]||[]).push([[0],{107:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p}));var r=n(384),a=n.n(r),c=n(84),o=n(81),s=n(273).default,i=n(273).getEnsAddress,u=new c.providers.JsonRpcProvider(o.a),l=new a.a(o.a),p=new s({provider:u,ensAddress:i("1")})},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return r.c})),n.d(t,"b",(function(){return r.b}));var r=n(187)},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return I}));var r=n(14),a=n(0),c=n(2),o=n(16),s=n(409),i=n(9),u=n(122),l=n.n(u),p=n(60),f=n(23),d=n(8),b=n(408);function O(e){return e.filter((function(e){return e.startsWith("solana:")})).reduce((function(e,t){var n=t.split(":").pop();if(!n)throw new Error("Could not derive Solana address from CAIP account: ".concat(t));return e[n]=new b.a(n),e}),{})}var h=n(183),j=n(67),v=n(249),m=n(47),S=function(e){switch(e){case"eip155":var t=Object.values(f.e);return console.log("selected methods ".concat(t," for namespace: ").concat(e)),t;case"cosmos":return Object.values(f.d);case"solana":return Object.values(f.j);default:throw new Error("No default methods for namespace: ".concat(e))}},g=function(e){switch(e){case"eip155":return Object.values(f.f);case"cosmos":return Object.values(f.c);case"solana":return Object.values(f.i);default:throw new Error("No default events for namespace: ".concat(e))}},E=function(e){var t=function(e){var t=[];return e.forEach((function(e){var n=e.split(":"),r=Object(o.a)(n,1)[0];t.includes(r)||t.push(r)})),t}(e);return console.log("selected namespaces:",t),Object.fromEntries(t.map((function(t){return[t,{methods:S(t),chains:e.filter((function(e){return e.startsWith(t)})),events:g(t)}]})))},x=n(191),T=n(87),N=n(58),w=n(773),C=n(22),_="NDJ_SIGNATURE_V2_",y="NDJ_ADDRESS_V2",R=Object(i.createContext)({});function A(e){var t=e.children,n=Object(i.useState)(),u=Object(o.a)(n,2),b=u[0],S=u[1],g=Object(i.useState)([]),A=Object(o.a)(g,2),I=A[0],k=A[1],U=Object(i.useState)(),G=Object(o.a)(U,2),M=G[0],H=G[1],D=Object(h.b)(),P=Object(i.useState)(),L=Object(o.a)(P,2),W=L[0],F=L[1],z=Object(i.useState)(!1),q=Object(o.a)(z,2),B=q[0],K=q[1],J=Object(i.useState)(!1),V=Object(o.a)(J,2),Q=(V[0],V[1]),X=Object(i.useState)(!1),Z=Object(o.a)(X,2),$=Z[0],Y=Z[1],ee=Object(i.useState)(!1),te=Object(o.a)(ee,2),ne=te[0],re=te[1],ae=Object(i.useState)(),ce=Object(o.a)(ae,2),oe=ce[0],se=ce[1],ie=Object(i.useState)([]),ue=Object(o.a)(ie,2),le=ue[0],pe=ue[1],fe=Object(i.useState)(),de=Object(o.a)(fe,2),be=de[0],Oe=de[1],he=Object(i.useState)(f.b),je=Object(o.a)(he,2),ve=je[0],me=je[1],Se=Object(i.useState)({}),ge=Object(o.a)(Se,2),Ee=ge[0],xe=ge[1],Te=Object(i.useState)({isMerchantUser:!1,merchantExists:!1}),Ne=Object(o.a)(Te,2),we=Ne[0],Ce=Ne[1],_e=Object(w.a)().pathname,ye=function(){console.info("resetting balances"),k([]),F(void 0),xe({}),H(void 0),se(void 0),pe([]),me([]);for(var e=0;e<localStorage.length;e++){var t=localStorage.key(e);t&&t.includes(_)&&localStorage.removeItem(t)}localStorage.removeItem(y)},Re=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("getting account balances"),Q(!0),e.prev=2,e.next=5,Promise.all(t.map(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,s,i,u,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.split(":"),r=Object(o.a)(n,3),c=r[0],s=r[1],i=r[2],u="".concat(c,":").concat(s),e.next=4,x.a.getAccountBalance(i,u);case 4:return l=e.sent,console.info("account balance for chainId:".concat(u," address:").concat(i," \n\n              --\x3e balance = ").concat(l.symbol," ").concat(l.balance)),e.abrupt("return",{account:t,assets:[l]});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:n=e.sent,r={},n.forEach((function(e){var t=e.account,n=e.assets;r[t]=n})),xe(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("caught error while refreshing balances: ".concat(e.t0));case 14:return e.prev=14,Q(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),Ae=Object(i.useCallback)(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.values(t.namespaces).map((function(e){return e.accounts})).flat(),r=Object.keys(t.namespaces),H(t),me(r),pe(n),Oe(O(n)),e.next=8,Re(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);function Ie(e,t){t.isMerchantUser?Me(e):Ge(e)}function ke(e,t){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(c.a)(Object(a.a)().mark((function e(t,n){var r,c,s,i,u,l,d,O,h;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.split(":"),c=Object(o.a)(r,3),s=c[0],i=c[1],u=c[2],l=n,d=p.g(l,!0),O=[d,u],e.next=6,null===b||void 0===b?void 0:b.request({topic:M.topic,chainId:"".concat(s,":").concat(i),request:{method:f.e.PERSONAL_SIGN,params:O}});case 6:return(h=e.sent)&&localStorage.setItem("".concat(_,"_").concat(t),h),e.abrupt("return",h);case 9:case"end":return e.stop()}}),e)}))),Ue.apply(this,arguments)}Object(i.useEffect)((function(){_e&&(_e.startsWith("/storefront/merchant")?we.isMerchantUser=!0:we.isMerchantUser=!1,Ce(we))}),[_e]),Object(i.useEffect)((function(){if(le.length){var e=localStorage.getItem(y);if(le.length){var t=le.filter((function(e){return!e.startsWith("solana")}));e&&t.includes(e)?Ie(e,we):t[0]?Ie(t[0],we):(m.b.error("No available accounts"),De())}}}),[le,we]);var Ge=Object(i.useCallback)(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,s,i,u,p,f;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,re(!0),n=l()(),r=t.split(":"),c=Object(o.a)(r,3),s=c[0],i=c[1],u=c[2],p=l.a.duration(l()().diff(n)).asSeconds(),!((f=5-p)>0)){e.next=9;break}return e.next=9,Object(v.c)(1e3*f);case 9:se(t),localStorage.setItem(y,t),D(j.a.loginSuccess({address:u,namespace:s,reference:i})),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(0),localStorage.removeItem("".concat(_,"_").concat(t)),m.b.error(e.t0.message),console.error("login exception: ".concat(e.t0," ").concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,". Disconnecting...")),De();case 20:return e.prev=20,re(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,14,20,23]])})));return function(t){return e.apply(this,arguments)}}(),[b,M]),Me=Object(i.useCallback)(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,s,i,u,p,f,d,b,O,h;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,re(!0),n=l()(),r=t.split(":"),c=Object(o.a)(r,3),s=c[0],i=c[1],u=c[2],e.prev=4,e.next=7,T.a.loginApi(u);case 7:p=e.sent,p.data.nonce?(console.warn("merchant does exist a member"),we.merchantExists=!0):(console.warn("not a member"),we.merchantExists=!1),Ce(we),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:return e.next=18,T.a.nonceApi(u);case 18:if(f=e.sent,d=f.data.nonce){e.next=23;break}throw console.warn("registration nonce is not valid. exit"),new Error(f.data.message);case 23:if(b=localStorage.getItem("".concat(_,"_").concat(t))){e.next=31;break}return e.next=27,ke(t,d);case 27:if(e.t1=e.sent,e.t1){e.next=30;break}e.t1=null;case 30:b=e.t1;case 31:if(b?(N.a.setAuthorizationToken(b),N.a.setNonce(d)):Object(m.b)("Invalid signature"),O=l.a.duration(l()().diff(n)).asSeconds(),!((h=5-O)>0)){e.next=37;break}return e.next=37,Object(v.c)(1e3*h);case 37:se(t),localStorage.setItem(y,t),D(j.a.loginSuccess({address:u,namespace:s,reference:i})),D(j.a.merchantLoginSuccess({address:u})),e.next=48;break;case 43:e.prev=43,e.t2=e.catch(0),localStorage.removeItem("".concat(_,"_").concat(t)),console.error("loginWithSignedNonce exception: ".concat(e.t2," ").concat(null===e.t2||void 0===e.t2?void 0:e.t2.message)),m.b.error("Error: ".concat(e.t2.message,"."));case 48:return e.prev=48,re(!1),e.finish(48);case 51:case"end":return e.stop()}}),e,null,[[0,43,48,51],[4,13]])})));return function(t){return e.apply(this,arguments)}}(),[b,M,we]),He=Object(i.useCallback)(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,o,s,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("connecting..."),"undefined"!==typeof b){e.next=4;break}throw new Error("WalletConnect is not initialized");case 4:return console.log("connect, pairing topic is:",null===t||void 0===t?void 0:t.topic),n=E(ve),console.log("requiredNamespaces config for connect:",n),r={pairingTopic:null===t||void 0===t?void 0:t.topic,requiredNamespaces:n},e.next=10,b.connect(r);case 10:return c=e.sent,o=c.uri,s=c.approval,o&&F(o),e.next=16,s();case 16:return i=e.sent,console.log("Established session:",i),e.next=20,Ae(i);case 20:k(b.pairing.getAll({active:!0})),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),m.b.error("connect error: ".concat((null===e.t0||void 0===e.t0?void 0:e.t0.message)||""));case 26:return e.prev=26,e.finish(26);case 28:case"end":return e.stop()}}),e,null,[[0,23,26,28]])})));return function(t){return e.apply(this,arguments)}}(),[ve,b,Ae]),De=Object(i.useCallback)(Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"undefined"!==typeof b){e.next=3;break}throw new Error("WalletConnect is not initialized");case 3:if("undefined"!==typeof M){e.next=5;break}throw new Error("Session is not connected");case 5:return e.next=7,b.disconnect({topic:M.topic,reason:Object(d.t)("USER_DISCONNECTED")});case 7:ye(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("disconnect error ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[b,M]),Pe=Object(i.useCallback)(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b){e.next=3;break}throw new Error("WalletConnect is not initialized");case 3:if(M){e.next=5;break}throw new Error("Session is not connected");case 5:return e.next=7,Re(t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m.b.error("caught error while refreshing balances: ".concat(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[b,M]),Le=Object(i.useCallback)(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,se(void 0),b){e.next=4;break}throw new Error("WalletConnect is not initialized");case 4:if(M){e.next=6;break}throw new Error("Session is not connected");case 6:console.log("_account",t),Ge(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),m.b.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),[b,M]),We=Object(i.useCallback)(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof t){e.next=2;break}return e.abrupt("return",m.b.error("WalletConnect is not initialized"));case 2:t.on("session_ping",(function(e){console.log("EVENT","session_ping",e)})),t.on("session_ping",(function(e){console.warn("**** session_ping event. args: ".concat(e))})),t.on("session_event",(function(e){console.log("EVENT","session_event",e)})),t.on("session_update",(function(e){var n=e.topic,a=e.params;console.log("EVENT","session_update",{topic:n,params:a});var c=a.namespaces,o=t.session.get(n),s=Object(r.a)(Object(r.a)({},o),{},{namespaces:c});Ae(s)})),t.on("session_delete",(function(){console.log("EVENT","session_delete"),ye()}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ae]),Fe=Object(i.useCallback)(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof t){e.next=2;break}return e.abrupt("return",m.b.error("WalletConnect is not initialized"));case 2:if(k(t.pairing.values),console.log("RESTORED PAIRINGS: ",t.pairing.values),"undefined"===typeof M){e.next=6;break}return e.abrupt("return");case 6:if(!t.session.length){e.next=13;break}return n=t.session.keys.length-1,r=t.session.get(t.session.keys[n]),console.log("RESTORED SESSION:",r),e.next=12,Ae(r);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[M,Ae]),ze=Object(i.useCallback)(Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Y(!0),e.next=4,s.a.init({relayUrl:f.h,projectId:f.g,metadata:Object(d.p)()||f.a});case 4:return t=e.sent,console.log("CREATED CLIENT: ",t),S(t),e.next=9,We(t);case 9:return e.next=11,Fe(t);case 11:K(!0),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:return e.prev=17,Y(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])}))),[Fe,We]);Object(i.useEffect)((function(){if(!b)try{ze().then((function(e){console.debug("client created ok: ".concat(e))})).catch((function(e){console.error("client creation failed: reason: ".concat(e))}))}catch(e){console.error("client creation failed: ".concat(e))}}),[b,ze]);var qe=Object(i.useMemo)((function(){return{pairings:I,isInitializing:$,initialized:B,qrCodeUri:W,isLoading:ne,account:oe,accounts:le,balances:Ee,solanaPublicKeys:be,chains:ve,client:b,session:M,connect:He,disconnect:De,refreshBalances:Pe,setChains:me,switchAccount:Le,merchantLogin:we}}),[I,$,ne,B,W,oe,le,Ee,be,ve,b,M,He,De,Pe,me,Le,we]);return Object(C.jsx)(R.Provider,{value:Object(r.a)({},qe),children:t})}function I(){var e=Object(i.useContext)(R);return void 0===e&&m.b.error("useWalletConnectClient must be used within a WalletConnectProvider"),e}},187:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(16),a=n(84);n(60),n(202),n(49),n(23);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))}var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=e.split("."),a=Object(r.a)(n,2),c=a[0],o=a[1],s=o?o.substring(0,t).replace(/0+$/gi,""):void 0;return s?[c,s].join("."):c},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return a.utils.parseUnits(o(e,t),t)},i="TESTNET";function u(){var e=true,t=window.localStorage.getItem(i);return t?e="true"===t:(console.debug("saving TESTNET ".concat(e," flag to local storage")),function(e){window.localStorage.setItem(i,"".concat(e))}(e)),e}}).call(this,n(10).Buffer)},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return F}));var r=n(16),a=n(0),c=n(2),o=n(60),s=n(37),i=n(84),u=n(187),l=n(107),p=n(4),f=n(5),d=n(63),b=n.n(d),O=b.a.create({baseURL:"https://ethereum-api.xyz",timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}});function h(){return(h=Object(c.a)(Object(a.a)().mark((function e(t,n){var r,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.split(":")[1],e.next=3,O.get("/account-balance?address=".concat(t,"&chainId=").concat(r));case 3:return c=e.sent,o=c.data.result,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(Object(a.a)().mark((function e(t,n){var r,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.split(":")[1],e.next=3,O.get("/account-transactions?address=".concat(t,"&chainId=").concat(r));case 3:return c=e.sent,o=c.data.result,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t,n){var r,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.split(":")[1],e.next=3,O.get("/account-nonce?address=".concat(t,"&chainId=").concat(r));case 3:return c=e.sent,o=c.data.result,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.split(":")[1],console.info("apiGetGasPrices for chainId: ".concat(t," ethChainId: ").concat(n)),e.next=4,O.get("/gas-prices?chainId=".concat(n));case 4:return r=e.sent,c=r.data.result,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(81),E=b.a.create({baseURL:g.a,timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}}),x=b.a.create({baseURL:g.d,timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}});function T(){return(T=Object(c.a)(Object(a.a)().mark((function e(t,n){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={jsonrpc:"2.0",method:"eth_getBalance",params:[t,"latest"],id:1},!n.includes("80001")){e.next=3;break}return e.abrupt("return",C(r));case 3:return e.abrupt("return",N(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return w.apply(this,arguments)}function w(){return(w=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("",t);case 2:return n=e.sent,r=n.data.result,c={symbol:"ETH",name:"Ether",decimals:"18",contractAddress:"",balance:r},e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return _.apply(this,arguments)}function _(){return(_=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("",t);case 2:return n=e.sent,r=n.data.result,c={symbol:"MATIC",name:"Matic",decimals:"18",contractAddress:"",balance:r},e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t,n){var r,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={jsonrpc:"2.0",method:"eth_getTransactionByHash",params:[t],id:1},e.next=3,E.post("",r);case 3:return c=e.sent,o=c.data.result,console.info("got trx details: ".concat(o)),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t,n){var r,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={jsonrpc:"2.0",method:"parity_nextNonce",params:[t],id:1},e.next=3,E.post("",r);case 3:return c=e.sent,o=c.data.result,console.info("got nonce: ".concat(o)),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={jsonrpc:"2.0",method:"eth_gasPrice",params:[],id:1},e.next=3,E.post("",n);case 3:return r=e.sent,c=r.data.result,console.debug("gas price for chainId ".concat(t," response ").concat(c)),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=n(139),k=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,[{key:"getAccountBalance",value:function(e,t){return function(e,t){return T.apply(this,arguments)}(e,t)}},{key:"getAccountNonce",value:function(e,t){return R(e,t)}},{key:"getGasPrices",value:function(e){return A(e)}},{key:"getTransactionByHash",value:function(e,t){return y(e,t)}},{key:"getAccountTransactions",value:function(e,t){return Promise.resolve([])}}]),e}(),U=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,[{key:"getAccountBalance",value:function(e,t){return function(e,t){return h.apply(this,arguments)}(e,t)}},{key:"getAccountNonce",value:function(e,t){return m(e,t)}},{key:"getGasPrices",value:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:return n=e.sent,console.info("got gas prices ".concat(n)),e.abrupt("return",Object(I.c)("".concat(n.slow.price),9).toHexString());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountTransactions",value:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t,n){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTransactionByHash",value:function(e,t){throw new Error("not impl")}}]),e}(),G=function(){function e(){Object(p.a)(this,e),this.infuraRpcApi=new k,this.ethereumXyzRpcApi=new U}return Object(f.a)(e,[{key:"getAccountBalance",value:function(e,t){return t.includes("eip155:80001")?this.infuraRpcApi.getAccountBalance(e,t):this.ethereumXyzRpcApi.getAccountBalance(e,t)}},{key:"getAccountNonce",value:function(e,t){return this.ethereumXyzRpcApi.getAccountNonce(e,t)}},{key:"getGasPrices",value:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.ethereumXyzRpcApi.getGasPrices(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountTransactions",value:function(e,t){return this.ethereumXyzRpcApi.getAccountTransactions(e,t)}},{key:"getTransactionByHash",value:function(e,t){return y(e,t)}}]),e}(),M=new G;function H(e){return D.apply(this,arguments)}function D(){return(D=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getGasPrices(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){return L.apply(this,arguments)}function L(){return(L=Object(c.a)(Object(a.a)().mark((function e(t,n,c){var s,i,l,p,f,d,b,O,h,j,v,m,S,g,E;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="0x96fca7a522a4ff7aa96b62a155914a831fe2ac05",i=t.split(":"),l=Object(r.a)(i,3),p=l[0],f=l[1],d=l[2],b="".concat(p,":").concat(f),e.prev=3,e.next=6,M.getAccountNonce(d,b);case 6:O=e.sent,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),new Error("failed to fetch nonce for address ".concat(d," on chain ").concat(b));case 12:return h=o.e(o.c(O)),e.next=15,H(b);case 15:return j=e.sent,console.info("gas price number: ".concat(j)),v=W(Number(j)),21112,m=W(21112),S=Object(u.c)(n.toString()),console.info("send amount ".concat(n," toWad -> ").concat(S," ")),g=o.e(S.toHexString()),"0x",E={from:d,to:s,data:"0x",nonce:h,gasPrice:v,gasLimit:m,value:g},e.abrupt("return",E);case 26:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}var W=function(e){var t=l.b.utils.numberToHex(e);return o.e(t)};function F(e,t){var n="0.00",r=e[0],a=s.a.from(0),c=s.a.from(0),o=null;return e.forEach((function(e){var u=t[e];if(u){var l=u[0],p=s.a.from(0);try{p=s.a.from(l.balance||"0")}catch(d){console.log("balance parse error ".concat(d))}if(p.gt(0)&&null==o){var f=i.utils.formatEther(p);console.debug("getBalanceInUSD account ".concat(e," with balance ").concat(p,". formatted balance ").concat(f)),r=e,a=i.utils.parseUnits(p.toString(),"ether"),c=a,n=f,o=l.symbol}}else console.info("getBalanceInUSD: account balances not defined for account: ".concat(e))})),{token:o||"ETH",account:r,balance:a,balanceUsd:c,balanceString:n}}},23:function(e,t,n){"use strict";n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return f.a})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"i",(function(){return i}));var r,a,c,o,s,i,u=n(14),l=n(38),p=Object(u.a)({},l.a),f=n(261),d=n(81),b=Object(d.c)()?["eip155:5"]:["eip155:1"],O="f17194a7efd15ee24623a532ccff7c77",h="wss://relay.walletconnect.com",j=Object(d.c)()?"https://test.jxndao.com/storefront":"https://jxndao.com/storefront",v=(Object(d.c)(),{name:"Storefront Pay",description:"StoreFront Pay DApp",url:j,icons:["https://jxndao.com/logo192.png"]});!function(e){e.ETH_SEND_TRANSACTION="eth_sendTransaction",e.ETH_SIGN_TRANSACTION="eth_signTransaction",e.ETH_SIGN="eth_sign",e.PERSONAL_SIGN="personal_sign"}(r||(r={})),function(e){e.ETH_CHAIN_CHANGED="chainChanged",e.ETH_ACCOUNTS_CHANGED="accountsChanged"}(a||(a={})),function(e){e.COSMOS_SIGN_DIRECT="cosmos_signDirect",e.COSMOS_SIGN_AMINO="cosmos_signAmino"}(c||(c={})),o||(o={}),function(e){e.SOL_SIGN_TRANSACTION="solana_signTransaction",e.SOL_SIGN_MESSAGE="solana_signMessage"}(s||(s={})),i||(i={})},249:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var r=n(16),a=n(0),c=n(2),o=n(23),s=n(139),i=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){return e?"".concat(l(e)):"Disconnected"},l=function(e){var t=e.split(":"),n=Object(r.a)(t,2),a=n[0],c=n[1];return o.k[a]&&o.k[a][c]?o.k[a][c].name:""},p=function(e,t){var n="";if(t)n=t;else if(e){var a=e.split(":"),c=Object(r.a)(a,3),i=c[0],u=c[1],l=c[2];if(o.k[i]&&o.k[i][u]){var p=o.k[i][u];console.info("chainMeta ".concat(p.symbol," ").concat(p.currency," ").concat(p.name)),n=Object(s.a)(l)}}return n}},261:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={bep20:{1:{id:"bep20:1",name:"Smart Chain",rpc:["https://bsc-dataseed.binance.org"],slip44:60,testnet:!1,logo:"/bnb.png",rgb:"243, 186, 44",symbol:"BSC"}},solana:{"4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ":{id:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ",name:"Solana Mainnet",rpc:["https://api.mainnet-beta.solana.com","https://solana-api.projectserum.com"],slip44:501,testnet:!1,logo:"/solana_logo.png",rgb:"0, 0, 0",symbol:"SOL"}},eip155:{1:{name:"Ethereum Mainnet",id:"eip155:1",rpc:["https://api.mycryptoapi.com/eth"],slip44:60,testnet:!1,logo:"https://blockchain-api.xyz/logos/eip155:1.png",rgb:"99, 125, 234",symbol:"ETH"},42:{name:"Ethereum Kovan",id:"eip155:42",rpc:["https://kovan.infura.io/v3/f785cca3f0854d5a9b04078a6e380b09"],slip44:60,testnet:!0,logo:"https://blockchain-api.xyz/logos/eip155:1.png",rgb:"99, 125, 234",symbol:"ETH"},137:{name:"Polygon Mainnet",id:"eip155:137",rpc:["https://rpc-mainnet.matic.network"],slip44:60,testnet:!1,logo:"https://blockchain-api.xyz/logos/eip155:137.png",rgb:"130, 71, 229",symbol:"MATIC"},80001:{name:"Polygon Mumbai",id:"eip155:80001",rpc:["https://rpc-mumbai.matic.today"],slip44:60,testnet:!0,logo:"https://blockchain-api.xyz/logos/eip155:137.png",rgb:"130, 71, 229",symbol:"MATIC"}}}},38:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.LOGIN_REQUEST="USER/LOGIN_REQUEST",e.LOGIN_SUCCESS="USER/LOGIN_SUCCESS",e.GET_MERCHANT_INFO="USER/MERCHANT_LOGIN_SUCCESS",e.LOGIN_FAILED="USER/LOGIN_FAILED",e.LOGOUT_REQUEST="USER/LOGOUT_REQUEST",e.GET_USER_INFO_SUCCESS="USER/GET_USER_INFO_SUCCESS",e.GET_MERCHANT_INFO_SUCCESS="USER/GET_MERCHANT_INFO_SUCCESS",e.GET_ENS_NAME_SUCCESS="USER/GET_ENS_NAME_SUCCESS",e.GET_PRICE_TICKERS_SUCCESS="USER/GET_PRICE_TICKERS_SUCCESS",e.SET_TRANSACTION_IN_PROGRESS="USER/SET_TRANSACTION_IN_PROGRESS",e.SET_CREATE_TRANSACTION="USER/SET_CREATE_TRANSACTION",e.UNSET_TRANSACTION="USER/UNSET_TRANSACTION",e.SET_TRANSACTION_SUCCESS="USER/SET_TRANSACTION_SUCCESS",e.SET_TRANSACTION_INFO="USER/SET_TRANSACTION_INFO",e.CREATE_ORDER="USER/CREATE_ORDER",e.CREATE_ORDER_SUCCESS="USER/CREATE_ORDER_SUCCESS",e.GET_ORDER_SUCCESS="USER/GET_ORDER_SUCCESS",e.GET_ORDER="USER/GET_ORDER",e.SET_ORDER_TRANSACTION_HASH="USER/SET_ORDER_TRANSACTION_HASH",e.CREATE_MERCHANT="USER/CREATE_MERCHANT",e.CREATE_MERCHANT_SUCCESS="USER/CREATE_MERCHANT_SUCCESS"}(r||(r={}))},380:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(9);var r=n(22),a=function(){return Object(r.jsxs)("div",{className:"flex flex-col items-center direction-column text-center justify-center h-full w-full",children:[Object(r.jsx)("div",{className:"w-20 h-20",children:Object(r.jsxs)("div",{className:"thecube w-20 h-20 m-1",children:[Object(r.jsx)("div",{className:"cube c1"}),Object(r.jsx)("div",{className:"cube c2"}),Object(r.jsx)("div",{className:"cube c4"}),Object(r.jsx)("div",{className:"cube c3"})]})}),Object(r.jsx)("p",{className:"mt-10 text-white text-sm",children:"Loading..."})]})}},399:function(e,t){},403:function(e,t){},405:function(e){e.exports=JSON.parse('{"menuHome":"Home","appTitle":"Walter The Rabbit","loginMessage1":"Welcome to the majestic world of Walter Rabbit NFTs. \\nStay tuned for the first ever NFT pi\xf1ata! (a.k.a. airdrop)","qrCodeMessage":"Welcome to the majestic world of Walter Rabbit NFTs. \\nConnect with WalletConnect v2 to sign up for the first ever NFT pi\xf1ata! (a.k.a. airdrop)","loginMessage2":"Stay tuned to our social networks to hear about the NFT pinata!"}')},406:function(e){e.exports=JSON.parse('{"menuHome":"Inicio","appTitle":"G\xfc\xe1lter El Conejo","loginMessage1":"Bienvenidos al pantall\xedstico mundo de G\xfc\xe1lter El Conejo en NFT. \\nSu\xedguenos para entererate de la primer y exclusiva pi\xf1ata de nfts (airdrop)","loginMessage2":"Bienvenidos al pantall\xedstico mundo de G\xfc\xe1lter El Conejo en NFT. \\nConecta tu billetera usando WalletConnect v2 para acceder a la primera y exclusiva pi\xf1ata de nfts (airdrop)"}')},421:function(e,t,n){},444:function(e,t){},452:function(e,t){},457:function(e,t){},459:function(e,t){},469:function(e,t){},471:function(e,t){},496:function(e,t){},497:function(e,t){},502:function(e,t){},504:function(e,t){},511:function(e,t){},524:function(e,t){},58:function(e,t,n){"use strict";var r=n(14),a=n(63),c=n.n(a),o=n(81);c.a.defaults.baseURL="http://localhost:5000/";var s=Object(o.b)()?"http://localhost:5000/":"https://test-api.jxndao.com/";c.a.defaults.baseURL=s,c.a.defaults.headers.common["Content-Type"]="application/json",c.a.interceptors.response.use((function(e){return e}),(function(e){throw console.info("error_code :".concat(e.response.data.code," message: ").concat(e.response.data.message)),e.response||e}));t.a=function(){var e="",t="";function n(n){var a={};e&&(a.Authorization="".concat(e)),t&&(a["WWW-Authenticate"]="".concat(t));var c=n.headers;return{headers:Object(r.a)(Object(r.a)({},a),c)}}return{setAuthorizationToken:function(t){e=t},setNonce:function(e){t=e},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.a.get(e,n(t))},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return c.a.post(e,t,a?n(r):{})},put:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c.a.put(e,t,n(r))},patch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c.a.patch(e,t,n(r))},del:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.a.delete(e,n(t))},getNonce:function(){return t},getSignature:function(){return e}}}()},585:function(e,t){},587:function(e,t){},605:function(e,t){},617:function(e,t){},620:function(e,t){},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(38),a={loginSuccess:function(e){return{type:r.a.LOGIN_SUCCESS,payload:e}},getAccountInfoSuccess:function(e){return{type:r.a.GET_USER_INFO_SUCCESS,payload:e}},getMerchantInfoSuccess:function(e){return{type:r.a.GET_MERCHANT_INFO_SUCCESS,payload:e}},getOrderSuccess:function(e){return console.info("getOrderSuccess order ".concat(e.amount," ").concat(e.externalOrderId," tracking: ").concat(e.trackingId)),{type:r.a.GET_ORDER_SUCCESS,payload:e}},getEnsNameSuccess:function(e){return{type:r.a.GET_ENS_NAME_SUCCESS,payload:e}},getTickersSuccess:function(e){return{type:r.a.GET_PRICE_TICKERS_SUCCESS,payload:e}},setTransactionInProgress:function(e){return console.info("setTransactionInProgress as ".concat(e)),{type:r.a.SET_TRANSACTION_IN_PROGRESS,payload:e}},setTransactionInfoWallet:function(e){var t,n;return console.info("setting transaction as hash: ".concat(e.transactionHash," value: ").concat(null===(t=e.transaction)||void 0===t?void 0:t.value," toAddress: ").concat(null===(n=e.transaction)||void 0===n?void 0:n.to)),{type:r.a.SET_TRANSACTION_INFO,payload:e}},setCreateTransaction:function(e){return{type:r.a.SET_CREATE_TRANSACTION,payload:e}},unsetTransaction:function(){return{type:r.a.UNSET_TRANSACTION}},setCreateTransactionSuccess:function(e){return{type:r.a.SET_TRANSACTION_SUCCESS,payload:e}},setCreateOrderSuccess:function(e){return console.info("setCreateOrderSuccess order ".concat(e.amount," ").concat(e.externalOrderId," tracking: ").concat(e.trackingId)),{type:r.a.CREATE_ORDER_SUCCESS,payload:e}},setOrderTransactionHash:function(e){return{type:r.a.SET_ORDER_TRANSACTION_HASH,payload:e}},createOrder:function(e){return{type:r.a.CREATE_ORDER,payload:e}},getOrder:function(e){return{type:r.a.GET_ORDER,payload:e}},merchantLoginSuccess:function(e){return{type:r.a.GET_MERCHANT_INFO,payload:e}},createMerchant:function(e,t){return{type:r.a.CREATE_MERCHANT,payload:{merchant:e,history:t}}},setCreateMerchantSuccess:function(e){return console.info("setCreateMerchantSuccess order ".concat(e.merchantName," ").concat(e.memberAddress)),{type:r.a.CREATE_MERCHANT_SUCCESS,payload:e}}}},704:function(e,t){},729:function(e,t){},747:function(e,t){},751:function(e,t){},762:function(e,t,n){"use strict";n.r(t);var r,a=n(9),c=n.n(a),o=n(137),s=n.n(o),i=n(260),u=n(50),l=n(183),p=n(47),f=(n(420),n(421),function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,813)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))}),d=n(103),b=n(410),O=n(383);!function(e){e[e.INITIAL=0]="INITIAL",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.FINISHED=2]="FINISHED"}(r||(r={}));var h,j,v,m={isLogged:!1,loading:!1,nonce:"",account:"",ensName:"",signature:"",tickers:[],transactionInfo:null,transactionInProgress:r.INITIAL,accountInfo:void 0,transactionData:null,userInfo:void 0,order:null},S={userState:m},g=n(36),E=n(93),x=n(23),T=(j=m,h={},Object(g.a)(h,x.l.LOGIN_SUCCESS,(function(e,t){var n=t.payload;return Object(E.a)(e,(function(e){e.loading=!1,e.isLogged=!0,e.accountInfo=n}))})),Object(g.a)(h,x.l.GET_ENS_NAME_SUCCESS,(function(e,t){var n=t.payload;return Object(E.a)(e,(function(e){e.ensName=n}))})),Object(g.a)(h,x.l.GET_USER_INFO_SUCCESS,(function(e,t){var n=t.payload;return Object(E.a)(e,(function(e){e.userInfo=n}))})),Object(g.a)(h,x.l.GET_MERCHANT_INFO_SUCCESS,N),Object(g.a)(h,x.l.GET_PRICE_TICKERS_SUCCESS,(function(e,t){var n=t.payload;return Object(E.a)(e,(function(e){e.tickers=n}))})),Object(g.a)(h,x.l.SET_TRANSACTION_IN_PROGRESS,(function(e,t){var n=t.payload;return Object(E.a)(e,(function(e){e.transactionInProgress=n}))})),Object(g.a)(h,x.l.SET_TRANSACTION_INFO,(function(e,t){var n=t.payload;return Object(E.a)(e,(function(e){e.transactionInfo=n}))})),Object(g.a)(h,x.l.SET_TRANSACTION_SUCCESS,(function(e,t){var n=t.payload;return Object(E.a)(e,(function(e){e.transactionData=n}))})),Object(g.a)(h,x.l.CREATE_ORDER_SUCCESS,w),Object(g.a)(h,x.l.GET_ORDER_SUCCESS,w),Object(g.a)(h,x.l.CREATE_MERCHANT_SUCCESS,N),v=h,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return v.hasOwnProperty(t.type)?v[t.type](e,t):e});function N(e,t){var n=t.payload;return Object(E.a)(e,(function(e){e.merchantInfo=n}))}function w(e,t){var n=t.payload;return Object(E.a)(e,(function(e){e.order=n}))}var C=Object(d.combineReducers)({userState:T}),_=n(0),y=n(39),R=n(38),A=n(87),I=n(67),k=n(107),U=n(191),G=Object(_.a)().mark(B),M=Object(_.a)().mark(K),H=Object(_.a)().mark(J),D=Object(_.a)().mark(V),P=Object(_.a)().mark(Q),L=Object(_.a)().mark(X),W=Object(_.a)().mark(Z),F=Object(_.a)().mark($),z=Object(_.a)().mark(Y),q=Object(_.a)().mark(ee);function B(){return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.e)(R.a.LOGIN_REQUEST,K),Object(y.e)(R.a.LOGIN_SUCCESS,Z),Object(y.e)(R.a.SET_CREATE_TRANSACTION,$),Object(y.e)(R.a.UNSET_TRANSACTION,Y),Object(y.e)(R.a.CREATE_ORDER,Q),Object(y.e)(R.a.SET_ORDER_TRANSACTION_HASH,X),Object(y.e)(R.a.GET_MERCHANT_INFO,J),Object(y.e)(R.a.GET_ORDER,V),Object(y.e)(R.a.CREATE_MERCHANT,ee)]);case 2:case"end":return e.stop()}}),G)}function K(e){var t,n,r;return Object(_.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n="",a.next=4,k.a.getName(e.payload);case 4:if(r=a.sent,!(t=r.name)){a.next=10;break}return a.next=9,k.a.name(t).getAddress();case 9:n=a.sent;case 10:return t&&n!==e.payload&&(t=""),a.next=13,Object(y.d)(I.a.getEnsNameSuccess(t));case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),p.b.error(a.t0.message);case 18:case"end":return a.stop()}}),M,null,[[0,15]])}function J(e){var t;return Object(_.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("watchGetMerchantInfo"),n.next=4,Object(y.b)((function(){return A.a.getMerchantInfoApi(e.payload.address)}));case 4:return t=n.sent,n.next=7,Object(y.d)(I.a.getMerchantInfoSuccess(t.data));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),p.b.error(n.t0.message);case 12:case"end":return n.stop()}}),H,null,[[0,9]])}function V(e){var t;return Object(_.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("watchGetOrderInfo orderTrackingId: ".concat(e.payload.orderTrackingId)),n.next=4,Object(y.b)((function(){return A.a.getOrderApi(e.payload.orderTrackingId)}));case 4:return t=n.sent,n.next=7,Object(y.d)(I.a.getOrderSuccess(t.data));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),p.b.error(n.t0.message);case 12:case"end":return n.stop()}}),D,null,[[0,9]])}function Q(e){var t;return Object(_.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(y.b)((function(){return A.a.createNewOrder(e.payload.toAddress,e.payload)}));case 3:return 200!==(t=n.sent).status&&console.error("error result in create new order"),console.info("calling create new order got externalOrderId: ".concat(t.data.externalOrderId," amount ").concat(t.data.amount," trackingId: ").concat(t.data.trackingId)),n.next=8,Object(y.d)(I.a.setCreateOrderSuccess(t.data));case 8:n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),console.error("error while creating order ".concat(n.t0)),p.b.error("error ".concat(n.t0.message));case 14:case"end":return n.stop()}}),P,null,[[0,10]])}function X(e){return Object(_.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.b)((function(){return A.a.linkOrderTransaction(e.payload.orderTrackingId,e.payload.transactionHash,e.payload.nativeAmount)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),p.b.error(t.t0.message);case 8:case"end":return t.stop()}}),L,null,[[0,5]])}function Z(){var e;return Object(_.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.b)((function(){return A.a.getTickersApi()}));case 3:return e=t.sent,t.next=6,Object(y.d)(I.a.getTickersSuccess(e.data));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),p.b.error(t.t0.message);case 11:case"end":return t.stop()}}),W,null,[[0,8]])}function $(e){var t,n;return Object(_.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(y.b)((function(){return Object(U.b)(e.payload.account,e.payload.amount,e.payload.orderTrackingId)}));case 3:return t=r.sent,n={transaction:t,orderTrackingId:e.payload.orderTrackingId},r.next=7,Object(y.d)(I.a.setCreateTransactionSuccess(n));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),p.b.error(r.t0.message);case 12:case"end":return r.stop()}}),F,null,[[0,9]])}function Y(e){return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.d)(I.a.setCreateTransactionSuccess(null));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),p.b.error(e.t0.message);case 8:case"end":return e.stop()}}),z,null,[[0,5]])}function ee(e){var t;return Object(_.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(y.b)((function(){return A.a.createNewMerchant(e.payload.merchant)}));case 3:return t=n.sent,console.info("createMerchant response ".concat(t," ").concat(t.status," ").concat(t.data)),200!==t.status&&console.error("error result in create new merchant"),n.next=8,Object(y.d)(I.a.setCreateMerchantSuccess(t.data));case 8:e.payload.history.replace("/merchant/profile"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.error("error while creating merchant ".concat(n.t0)),p.b.error(n.t0.data.message?"".concat(n.t0.data.message):"Error ".concat(n.t0.status));case 15:case"end":return n.stop()}}),q,null,[[0,11]])}var te=Object(_.a)().mark(ne);function ne(){return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.c)(B)]);case 2:case"end":return e.stop()}}),te)}var re=Object(b.a)(),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=Object(d.createStore)(C,e,Object(O.composeWithDevTools)(Object(d.applyMiddleware)(re)));return re.run(ne),t}(),ce=n(2),oe=n(16),se=n(84),ie=n(37),ue=n(60),le=n(251),pe=n(139),fe=n(166),de=n(22),be=Object(a.createContext)({});function Oe(e){var t=e.children,n=Object(a.useState)(!1),r=Object(oe.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(),i=Object(oe.a)(s,2),u=i[0],l=i[1],p=Object(a.useState)(Object(pe.b)()),f=Object(oe.a)(p,2),d=f[0],b=f[1],O=Object(fe.b)(),h=O.client,j=O.session,v=O.accounts,m=O.balances,S=(O.solanaPublicKeys,function(e){return function(){var t=Object(ce.a)(Object(_.a)().mark((function t(n,r,a){var c,s,i;return Object(_.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!==typeof h){t.next=2;break}throw new Error("WalletConnect is not initialized");case 2:if("undefined"!==typeof j){t.next=4;break}throw new Error("Session is not connected");case 4:return t.prev=4,o(!0),t.next=8,e(n,r,a);case 8:return c=t.sent,l(c),t.abrupt("return",c);case 13:return t.prev=13,t.t0=t.catch(4),console.error("RPC request failed: ",t.t0),i={address:r,valid:!1,result:null!==(s=null===t.t0||void 0===t.t0?void 0:t.t0.message)&&void 0!==s?s:t.t0},l(i),t.abrupt("return",i);case 19:return t.prev=19,o(!1),t.finish(19);case 22:return t.abrupt("return",null);case 23:case"end":return t.stop()}}),t,null,[[4,13,19,22]])})));return function(e,n,r){return t.apply(this,arguments)}}()}),g=function(e,t,n){return se.utils.verifyMessage(e,t).toLowerCase()===n.toLowerCase()},E=function(){var e=Object(ce.a)(Object(_.a)().mark((function e(){var t;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof h){e.next=2;break}throw new Error("WalletConnect is not initialized");case 2:if("undefined"!==typeof j){e.next=4;break}throw new Error("Session is not connected");case 4:return e.prev=4,o(!0),t=!1,e.prev=7,e.next=10,h.ping({topic:j.topic});case 10:t=!0,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),t=!1;case 16:l({method:"ping",valid:t,result:t?"Ping succeeded":"Ping failed"}),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(4),console.error(e.t1),l(null);case 23:return e.prev=23,o(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[4,19,23,26],[7,13]])})));return function(){return e.apply(this,arguments)}}(),T={testSendTransaction:S(function(){var e=Object(ce.a)(Object(_.a)().mark((function e(t,n,r){var a,c,o,s,i,u,l,p,f;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.info("testSendTransaction for trx chainId: ".concat(t," address: ").concat(n)),a="".concat(t,":").concat(n),void 0!==(c=v.find((function(e){return e===a})))){e.next=5;break}throw new Error("Account for ".concat(a," not found"));case 5:if(o=ie.a.from(m[c][0].balance||"0"),s=ie.a.from(r.gasPrice),i=ie.a.from(r.gasLimit),u=s.mul(i),!o.lt(u)){e.next=12;break}return console.warn("Insufficient funds for intrinsic transaction cost"),e.abrupt("return",{method:x.e.ETH_SEND_TRANSACTION,address:n,valid:!1,result:"Insufficient funds for intrinsic transaction cost",toAddress:r.to,value:r.value});case 12:if(l=ie.a.from(r.value),p=l.add(u),console.info("current balance is ".concat(o,". gasPrice: ").concat(s," gasLimit: ").concat(i,". transaction cost: ").concat(p)),!o.lt(p)){e.next=18;break}return console.warn("Insufficient funds for transaction"),e.abrupt("return",{method:x.e.ETH_SEND_TRANSACTION,address:n,valid:!1,result:"Insufficient funds for transaction",toAddress:r.to,value:r.value});case 18:return console.info("committing trx to wc"),e.next=21,h.request({topic:j.topic,chainId:t,request:{method:x.e.ETH_SEND_TRANSACTION,params:[r]}});case 21:return f=e.sent,console.info("ETH_SEND_TRANSACTION result: ".concat(f)),e.abrupt("return",{method:x.e.ETH_SEND_TRANSACTION,address:n,valid:!0,result:f,toAddress:r.to,value:r.value});case 24:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),testSignTransaction:S(function(){var e=Object(ce.a)(Object(_.a)().mark((function e(t,n,r){var a,c,o,s;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="".concat(t,":").concat(n),void 0!==v.find((function(e){return e===a}))){e.next=4;break}throw new Error("Account for ".concat(a," not found"));case 4:return console.info("testSignTransaction request for trx ".concat(r.from)),e.next=7,h.request({topic:j.topic,chainId:t,request:{method:x.e.ETH_SIGN_TRANSACTION,params:[r]}});case 7:return c=e.sent,o=le.Transaction.fromSerializedTx(c).verifySignature(),console.info("send signTransaction result: ".concat(c," valid: ").concat(o)),s={method:x.e.ETH_SIGN_TRANSACTION,address:n,valid:o,result:c,toAddress:r.to,value:r.value},l(u),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),testSignPersonalMessage:S(function(){var e=Object(ce.a)(Object(_.a)().mark((function e(t,n){var r,a,c,o,s,i,u,l,p;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="My email is john@doe.com - ".concat(Date.now()),a=ue.g(r,!0),c=[a,n],e.next=5,h.request({topic:j.topic,chainId:t,request:{method:x.e.PERSONAL_SIGN,params:c}});case 5:if(o=e.sent,s=t.split(":"),i=Object(oe.a)(s,2),u=i[0],l=i[1],"undefined"!==typeof x.k[u][l]){e.next=10;break}throw new Error("Missing chain data for chainId: ".concat(t));case 10:return p=g(r,o,n),e.abrupt("return",{method:x.e.PERSONAL_SIGN,address:n,valid:p,result:o});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),testEthSign:S(function(){var e=Object(ce.a)(Object(_.a)().mark((function e(t,n){var r,a,c,o,s,i,u;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="My email is john@doe.com - ".concat(Date.now()),a=ue.g(r,!0),c=[n,a],e.next=5,h.request({topic:j.topic,chainId:t,request:{method:x.e.ETH_SIGN,params:c}});case 5:return o=e.sent,s=t.split(":"),i=Object(oe.a)(s,2),i[0],i[1],u=g(r,o,n),e.abrupt("return",{method:x.e.ETH_SIGN+" (standard)",address:n,valid:u,result:o});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())};return Object(de.jsx)(be.Provider,{value:{ping:E,ethereumRpc:T,rpcResult:u,isRpcRequestPending:c,isTestnet:d,setIsTestnet:b},children:t})}var he=n.p+"static/media/logo.916504ce.png",je=n.p+"static/media/promo_image_1.ffb5ea76.svg",ve=n.p+"static/media/promo_image_2.2844eac7.svg",me=n.p+"static/media/promo_image_3.ac1a9ffa.svg",Se=n(380),ge=n(258),Ee=n(767),xe=n(404),Te={en:{special:n(405)},es:{special:n(406)}};ge.a.use(Ee.e).use(xe.a).init({resources:Te,debug:!0,fallbackLng:"en",ns:["special"]});ge.a;var Ne=c.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,815)).then((function(e){return{default:e.Main}}))}));s.a.render(Object(de.jsx)(l.a,{store:ae,children:Object(de.jsx)(fe.a,{children:Object(de.jsx)(Oe,{children:Object(de.jsx)(a.Suspense,{fallback:Se.a,children:Object(de.jsxs)(i.a,{children:[Object(de.jsxs)(u.d,{children:[Object(de.jsx)(u.b,{path:"/error",component:function(){return Object(de.jsxs)("div",{className:"h-screen w-screen flex twoColumnContainer",children:[Object(de.jsxs)("div",{className:"h-full w-full flex items-center justify-around flex-col bg-white shadow-md py-40",children:[Object(de.jsxs)("div",{className:"flex items-center justify-center ",children:[Object(de.jsx)("img",{className:"w-12 h-12",src:he,alt:""}),Object(de.jsx)("div",{className:"w-full flex flex-col p-4",children:Object(de.jsx)("h1",{className:"text-xl font-righteous",children:"Storefront Pay"})})]}),Object(de.jsx)("div",{className:"w-3/4 flex justify-around py-4",children:Object(de.jsxs)("div",{className:"flex flex-col p-4",children:[Object(de.jsx)("p",{className:"text-sm",children:"error"}),Object(de.jsx)("p",{className:"font-bold text-xl",children:"Something went wrong"})]})})]}),Object(de.jsxs)("div",{className:"w-full flex items-center justify-center flex-col py-10",children:[Object(de.jsx)("div",{id:"qrcode2",className:"flex items-center justify-center rounded-10xl overflow-hidden m-10 qrcode",children:Object(de.jsx)("img",{className:"w-16 h-16",src:he,alt:""})}),Object(de.jsx)("h1",{className:"text-white text-xl text-center font-bold mx-40 ",children:"Accept Crypto Payments and Drive Incremental Sales Now!"}),Object(de.jsx)("img",{className:"w-16 h-16 mt-4",src:je,alt:""}),Object(de.jsx)("p",{className:"text-white font-bold mt-4",children:"Reach Millions of Users"}),Object(de.jsx)("p",{className:"text-white text-center text-sm mt-4 mx-40",children:"Access to millions of users using wallet apps, and capitalise on the world's largest adoption rate. "}),Object(de.jsx)("img",{className:"w-16 h-16 mt-10",src:ve,alt:""}),Object(de.jsx)("p",{className:"text-white font-bold mt-4",children:"Lowest Cost"}),Object(de.jsx)("p",{className:"text-white text-center text-sm mt-4 mx-40",children:"Pay zero transactions fees and save up to 85% on settlement fees. "}),Object(de.jsx)("img",{className:"w-16 h-16 mt-10",src:me,alt:""}),Object(de.jsx)("p",{className:"text-white font-bold mt-4",children:"Easy Integration"}),Object(de.jsx)("p",{className:"text-white text-center text-sm mt-4 mx-40",children:"Integrate with a few clicks using our SDK or plugins. No coding experience needed. "})]})]})}}),Object(de.jsx)(u.b,{path:"/",component:Ne})]}),Object(de.jsx)(p.a,{toastClassName:"w-full m-w-45 flex bg-black bg-opacity-90 border-2 border-secondary rounded-16xl shadow-md p-4 text-sm",bodyClassName:function(){return"text-sm font-white font-med block p-1"},autoClose:!1,icon:!0,position:"bottom-center",hideProgressBar:!0,closeOnClick:!1})]})})})})}),document.getElementById("root")),f()},81:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o}));var r=function(){return!0},a=function(){return!0},c="https://goerli.infura.io/v3/f785cca3f0854d5a9b04078a6e380b09",o="https://matic-testnet-archive-rpc.bwarelabs.com/"},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(58),a=n(0),c=n(2),o=function(){var e=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.get("/fund/members/".concat(t,"/login")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.get("/fund/members/me"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.get("/tickers"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.get("/merchants/".concat(t,"/nonce")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.get("/merchants/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.get("/merchants/orders/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t,n){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.post("/merchants/".concat(t,"/orders"),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.post("/merchants?nonce=".concat(r.a.getNonce(),"&signature=").concat(r.a.getSignature()),t,{},!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t,n,c){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.post("/merchants/orders/".concat(t,"/transaction"),{transactionHash:n,nativeAmount:c}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return{loginApi:e,getMeApi:t,getTickersApi:n,getMerchantInfoApi:s,createNewOrder:u,getOrderApi:i,linkOrderTransaction:p,createNewMerchant:l,nonceApi:o}}()}},[[762,1,2]]]);
//# sourceMappingURL=main.3c554da3.chunk.js.map